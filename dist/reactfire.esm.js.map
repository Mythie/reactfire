{"version":3,"file":"reactfire.esm.js","sources":["../node_modules/regenerator-runtime/runtime.js","../src/firebaseApp.tsx","../src/auth.tsx","../src/database.tsx","../src/SuspenseSubject.ts","../src/useObservable.ts","../src/firestore.tsx","../src/functions.tsx","../src/performance.tsx","../src/remote-config.tsx","../src/storage.tsx","../src/sdk.tsx","../src/index.ts"],"sourcesContent":["/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n    return obj[key];\n  }\n  try {\n    // IE 8 has a broken Object.defineProperty that only works on DOM objects.\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  define(IteratorPrototype, iteratorSymbol, function () {\n    return this;\n  });\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = GeneratorFunctionPrototype;\n  define(Gp, \"constructor\", GeneratorFunctionPrototype);\n  define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction);\n  GeneratorFunction.displayName = define(\n    GeneratorFunctionPrototype,\n    toStringTagSymbol,\n    \"GeneratorFunction\"\n  );\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      define(genFun, toStringTagSymbol, \"GeneratorFunction\");\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  define(AsyncIterator.prototype, asyncIteratorSymbol, function () {\n    return this;\n  });\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  define(Gp, toStringTagSymbol, \"Generator\");\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  define(Gp, iteratorSymbol, function() {\n    return this;\n  });\n\n  define(Gp, \"toString\", function() {\n    return \"[object Generator]\";\n  });\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, in modern engines\n  // we can explicitly access globalThis. In older engines we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  if (typeof globalThis === \"object\") {\n    globalThis.regeneratorRuntime = runtime;\n  } else {\n    Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n  }\n}\n","import * as React from 'react';\nimport { getApps, initializeApp, registerVersion } from 'firebase/app';\n\nimport type { FirebaseApp, FirebaseOptions } from 'firebase/app';\n\n// INVESTIGATE I don't like magic strings, can we have export this in js-sdk?\nconst DEFAULT_APP_NAME = '[DEFAULT]';\n\nconst FirebaseAppContext = React.createContext<FirebaseApp | undefined>(undefined);\nconst SuspenseEnabledContext = React.createContext<boolean>(false);\n\ninterface FirebaseAppProviderProps {\n  firebaseApp?: FirebaseApp;\n  firebaseConfig?: FirebaseOptions;\n  appName?: string;\n  suspense?: boolean;\n}\n\n// @ts-expect-error: \"__REACTFIRE_VERSION__\" is replaced with actual ReactFire version (see babel.config.js)\nexport const version = __REACTFIRE_VERSION__;\n\nconst shallowEq = (a: { [key: string]: any }, b: { [key: string]: any }) => a === b || [...Object.keys(a), ...Object.keys(b)].every((key) => a[key] === b[key]);\n\nexport function FirebaseAppProvider(props: React.PropsWithChildren<FirebaseAppProviderProps>) {\n  const { firebaseConfig, appName, suspense } = props;\n\n  const firebaseApp: FirebaseApp = React.useMemo(() => {\n    if (props.firebaseApp) {\n      return props.firebaseApp;\n    }\n\n    const existingApp = getApps().find((app) => app.name === (appName || DEFAULT_APP_NAME));\n    if (existingApp) {\n      if (firebaseConfig && shallowEq(existingApp.options, firebaseConfig)) {\n        return existingApp;\n      } else {\n        throw new Error(\n          `Does not match the options already provided to the ${appName || 'default'} firebase app instance, give this new instance a different appName.`\n        );\n      }\n    } else {\n      if (!firebaseConfig) {\n        throw new Error('No firebaseConfig provided');\n      }\n\n      const reactVersion = React.version || 'unknown';\n      registerVersion('react', reactVersion);\n      registerVersion('reactfire', version);\n      return initializeApp(firebaseConfig, appName);\n    }\n  }, [props.firebaseApp, firebaseConfig, appName]);\n\n  return (\n    <FirebaseAppContext.Provider value={firebaseApp}>\n      <SuspenseEnabledContext.Provider value={suspense ?? false} {...props} />\n    </FirebaseAppContext.Provider>\n  );\n}\n\nexport function useIsSuspenseEnabled(): boolean {\n  const suspense = React.useContext(SuspenseEnabledContext);\n\n  // default to false if not available in context\n  return suspense ?? false;\n}\n\nexport function useSuspenseEnabledFromConfigAndContext(suspenseFromConfig?: boolean): boolean {\n  let suspenseFromContext = React.useContext(SuspenseEnabledContext);\n\n  // prioritize config over context\n  if (suspenseFromConfig !== undefined) {\n    return suspenseFromConfig;\n  }\n\n  return suspenseFromContext;\n}\n\nexport function useFirebaseApp() {\n  const firebaseApp = React.useContext(FirebaseAppContext);\n  if (!firebaseApp) {\n    throw new Error('Cannot call useFirebaseApp unless your component is within a FirebaseAppProvider');\n  }\n\n  return firebaseApp;\n}\n","import * as React from 'react';\nimport { user } from 'rxfire/auth';\nimport { preloadObservable, ReactFireOptions, useAuth, useObservable, ObservableStatus, ReactFireError } from './';\nimport { from, of } from 'rxjs';\nimport { map, switchMap } from 'rxjs/operators';\nimport { useSuspenseEnabledFromConfigAndContext } from './firebaseApp';\n\nimport type { Auth, User, IdTokenResult } from 'firebase/auth';\ntype Claims = IdTokenResult['claims'];\n\nexport async function preloadUser(authResolver: () => Promise<Auth>) {\n  const auth = await authResolver();\n  const user$ = preloadObservable(user(auth), `auth:user:${auth.name}`);\n  return user$.toPromise();\n}\n\n/**\n * Subscribe to Firebase auth state changes, including token refresh\n *\n * @param options\n */\nexport function useUser<T = unknown>(options?: ReactFireOptions<T>): ObservableStatus<User | null> {\n  const auth = useAuth();\n\n  const observableId = `auth:user:${auth.name}`;\n  const observable$ = user(auth);\n  const _options: ReactFireOptions<T> = { ...options } ?? {};\n\n  // only set/override initialData if auth has finished loading\n  if (auth.currentUser !== undefined) {\n    _options.initialData = auth.currentUser;\n    _options.startWithValue = auth.currentUser;\n  }\n\n  return useObservable(observableId, observable$, _options);\n}\n\nexport function useIdTokenResult(user: User, forceRefresh: boolean = false, options?: ReactFireOptions<IdTokenResult>): ObservableStatus<IdTokenResult> {\n  if (!user) {\n    throw new Error('you must provide a user');\n  }\n\n  const observableId = `auth:idTokenResult:${user.uid}:forceRefresh=${forceRefresh}`;\n  const observable$ = from(user.getIdTokenResult(forceRefresh));\n\n  return useObservable(observableId, observable$, options);\n}\n\nexport interface AuthCheckProps {\n  fallback: React.ReactNode;\n  children: React.ReactNode;\n  requiredClaims?: Object;\n}\n\nexport interface ClaimsCheckProps {\n  user: User;\n  fallback: React.ReactNode;\n  children: React.ReactNode;\n  requiredClaims: { [key: string]: any };\n}\n\nexport interface ClaimCheckErrors {\n  [key: string]: any[];\n}\n\nexport type SigninCheckResult =\n  | {\n      signedIn: false;\n      hasRequiredClaims: false;\n      errors: {};\n      user: null;\n    }\n  | {\n      signedIn: true;\n      hasRequiredClaims: boolean;\n      errors: ClaimCheckErrors;\n      user: User;\n    };\n\nexport interface SignInCheckOptionsBasic extends ReactFireOptions<SigninCheckResult> {\n  forceRefresh?: boolean;\n}\n\nexport interface SignInCheckOptionsClaimsObject extends SignInCheckOptionsBasic {\n  requiredClaims: Claims;\n}\n\nexport interface ClaimsValidator {\n  (claims: Claims): {\n    hasRequiredClaims: boolean;\n    errors: ClaimCheckErrors | {};\n  };\n}\n\nexport interface SignInCheckOptionsClaimsValidator extends SignInCheckOptionsBasic {\n  validateCustomClaims: ClaimsValidator;\n}\n\n/**\n * Subscribe to the signed-in status of a user.\n *\n * ```ts\n * const { status, data:signInCheckResult } = useSigninCheck();\n *\n * if (status === 'loading') {\n *   return <LoadingSpinner />}\n *\n *\n * if (signInCheckResult.signedIn === true) {\n *   return <ProfilePage user={signInCheckResult.user}/>\n * } else {\n *   return <SignInForm />\n * }\n * ```\n *\n * Optionally check [custom claims](https://firebase.google.com/docs/auth/admin/custom-claims) of a user as well.\n *\n * ```ts\n * // pass in an object describing the custom claims a user must have\n * const {status, data: signInCheckResult} = useSignInCheck({requiredClaims: {admin: true}});\n *\n * // pass in a custom claims validator function\n * const {status, data: signInCheckResult} = useSignInCheck({validateCustomClaims: (userClaims) => {\n *   // custom validation logic...\n * }});\n *\n * // You can optionally force-refresh the token\n * const {status, data: signInCheckResult} = useSignInCheck({forceRefresh: true, requiredClaims: {admin: true}});\n * ```\n */\nexport function useSigninCheck(\n  options?: SignInCheckOptionsBasic | SignInCheckOptionsClaimsObject | SignInCheckOptionsClaimsValidator\n): ObservableStatus<SigninCheckResult> {\n  // If both `requiredClaims` and `validateCustomClaims` are provided, we won't know which one to use\n  if (options?.hasOwnProperty('requiredClaims') && options?.hasOwnProperty('validateCustomClaims')) {\n    throw new Error('Cannot have both \"requiredClaims\" and \"validateCustomClaims\". Use one or the other.');\n  }\n\n  const auth = useAuth();\n\n  // ObservableId should change for different options configurations to ensure no cache collisions\n  let observableId = `auth:signInCheck:${auth.name}::forceRefresh:${!!options?.forceRefresh}`;\n  if (options?.forceRefresh) {\n    observableId = `${observableId}:forceRefresh:${options.forceRefresh}`;\n  }\n  if (options?.hasOwnProperty('requiredClaims')) {\n    observableId = `${observableId}:requiredClaims:${JSON.stringify((options as SignInCheckOptionsClaimsObject).requiredClaims)}`;\n  } else if (options?.hasOwnProperty('validateCustomClaims')) {\n    // TODO(jamesdaniels): Check if stringifying this function breaks in IE11\n    observableId = `${observableId}:validateCustomClaims:${JSON.stringify((options as SignInCheckOptionsClaimsValidator).validateCustomClaims)}`;\n  }\n\n  const observable = user(auth).pipe(\n    switchMap((user) => {\n      if (!user) {\n        const result: SigninCheckResult = { signedIn: false, hasRequiredClaims: false, errors: {}, user: null };\n        return of(result);\n      } else if (options && (options.hasOwnProperty('requiredClaims') || options.hasOwnProperty('validateCustomClaims'))) {\n        return from(user.getIdTokenResult(options?.forceRefresh ?? false)).pipe(\n          map((idTokenResult) => {\n            let validator: ClaimsValidator;\n\n            if (options.hasOwnProperty('requiredClaims')) {\n              validator = getClaimsObjectValidator((options as SignInCheckOptionsClaimsObject).requiredClaims);\n            } else {\n              validator = (options as SignInCheckOptionsClaimsValidator).validateCustomClaims;\n            }\n\n            const { hasRequiredClaims, errors } = validator(idTokenResult.claims);\n\n            const result: SigninCheckResult = { signedIn: true, hasRequiredClaims, errors, user: user };\n            return result;\n          })\n        );\n      } else {\n        // If no claims are provided to be checked, `hasRequiredClaims` is true\n        const result: SigninCheckResult = { signedIn: true, hasRequiredClaims: true, errors: {}, user: user };\n        return of(result);\n      }\n    })\n  );\n\n  return useObservable(observableId, observable);\n}\n\nfunction getClaimsObjectValidator(requiredClaims: Claims): ClaimsValidator {\n  return function claimsObjectValidator(userClaims) {\n    const errors: { [key: string]: ReactFireError[] } = {};\n\n    Object.keys(requiredClaims).forEach((claim) => {\n      if (requiredClaims[claim] !== userClaims[claim]) {\n        errors[claim] = [new ReactFireError('auth/missing-claim', `Expected \"${requiredClaims[claim]}\", but user has \"${userClaims[claim]}\" instead`)];\n      }\n    });\n\n    return {\n      hasRequiredClaims: Object.keys(errors).length === 0,\n      errors,\n    };\n  };\n}\n\n/**\n * @deprecated Use `useSignInCheck` instead\n *\n * Conditionally render children based on [custom claims](https://firebase.google.com/docs/auth/admin/custom-claims).\n *\n * Meant for Concurrent mode only (`<FirebaseAppProvider suspense=true />`). [More detail](https://github.com/FirebaseExtended/reactfire/issues/325#issuecomment-827654376).\n */\nexport function ClaimsCheck({ user, fallback, children, requiredClaims }: ClaimsCheckProps) {\n  const { data } = useIdTokenResult(user, false);\n  const { claims } = data;\n  const missingClaims: { [key: string]: { expected: string; actual: string | undefined } } = {};\n\n  const suspenseMode = useSuspenseEnabledFromConfigAndContext();\n  if (!suspenseMode) {\n    console.warn(\n      'ClaimsCheck is deprecated and only works when ReactFire is in experimental Suspense Mode. Use useSigninCheck or set suspense={true} in FirebaseAppProvider if you want to use this component.'\n    );\n  }\n\n  if (requiredClaims) {\n    Object.keys(requiredClaims).forEach((claim) => {\n      if (requiredClaims[claim] !== claims[claim]) {\n        missingClaims[claim] = {\n          expected: requiredClaims[claim],\n          actual: claims[claim]?.toString(),\n        };\n      }\n    });\n  }\n\n  if (Object.keys(missingClaims).length === 0) {\n    return <>{children}</>;\n  } else {\n    return <>{fallback}</>;\n  }\n}\n\n/**\n * @deprecated Use `useSignInCheck` instead\n *\n * Conditionally render children based on signed-in status and [custom claims](https://firebase.google.com/docs/auth/admin/custom-claims).\n *\n * Meant for Concurrent mode only (`<FirebaseAppProvider suspense=true />`). [More detail](https://github.com/FirebaseExtended/reactfire/issues/325#issuecomment-827654376).\n */\nexport function AuthCheck({ fallback, children, requiredClaims }: AuthCheckProps): JSX.Element {\n  const { data: user } = useUser<User>();\n\n  const suspenseMode = useSuspenseEnabledFromConfigAndContext();\n  if (!suspenseMode) {\n    console.warn(\n      'AuthCheck is deprecated and only works when ReactFire is in experimental Suspense Mode. Use useSigninCheck or set suspense={true} in FirebaseAppProvider if you want to use this component.'\n    );\n  }\n\n  if (user) {\n    return requiredClaims ? (\n      <ClaimsCheck user={user} fallback={fallback} requiredClaims={requiredClaims}>\n        {children}\n      </ClaimsCheck>\n    ) : (\n      <>{children}</>\n    );\n  } else {\n    return <>{fallback}</>;\n  }\n}\n","import { list, object, QueryChange, listVal, objectVal } from 'rxfire/database';\nimport { ReactFireOptions, useObservable, checkIdField, ObservableStatus, ReactFireGlobals } from './';\n\nimport type { Query as DatabaseQuery, DatabaseReference } from 'firebase/database';\n\n// Since we're side-effect free, we need to ensure our observableId cache is global\nconst cachedQueries: Array<DatabaseQuery> = (globalThis as any as ReactFireGlobals)._reactFireDatabaseCachedQueries || [];\n\nif (!(globalThis as any as ReactFireGlobals)._reactFireDatabaseCachedQueries) {\n  (globalThis as any as ReactFireGlobals)._reactFireDatabaseCachedQueries = cachedQueries;\n}\n\nfunction getUniqueIdForDatabaseQuery(query: DatabaseQuery) {\n  const index = cachedQueries.findIndex((cachedQuery) => cachedQuery.isEqual(query));\n  if (index > -1) {\n    return index;\n  }\n  return cachedQueries.push(query) - 1;\n}\n\n/**\n * Subscribe to a Realtime Database object\n *\n * @param ref - Reference to the DB object you want to listen to\n * @param options\n */\nexport function useDatabaseObject<T = unknown>(ref: DatabaseReference, options?: ReactFireOptions<T>): ObservableStatus<QueryChange | T> {\n  const observableId = `database:object:${ref.toString()}`;\n  const observable$ = object(ref);\n\n  return useObservable(observableId, observable$, options);\n}\n\nexport function useDatabaseObjectData<T>(ref: DatabaseReference, options?: ReactFireOptions<T>): ObservableStatus<T> {\n  const idField = options ? checkIdField(options) : 'NO_ID_FIELD';\n  const observableId = `database:objectVal:${ref.toString()}:idField=${idField}`;\n  const observable$ = objectVal<T>(ref, { keyField: idField });\n\n  return useObservable(observableId, observable$, options);\n}\n\n/**\n * Subscribe to a Realtime Database list\n *\n * @param ref - Reference to the DB List you want to listen to\n * @param options\n */\nexport function useDatabaseList<T = { [key: string]: unknown }>(\n  ref: DatabaseReference | DatabaseQuery,\n  options?: ReactFireOptions<T[]>\n): ObservableStatus<QueryChange[] | T[]> {\n  const hash = `database:list:${getUniqueIdForDatabaseQuery(ref)}`;\n  const observable$ = list(ref);\n\n  return useObservable(hash, observable$, options);\n}\n\nexport function useDatabaseListData<T = { [key: string]: unknown }>(\n  ref: DatabaseReference | DatabaseQuery,\n  options?: ReactFireOptions<T[]>\n): ObservableStatus<T[] | null> {\n  const idField = options ? checkIdField(options) : 'NO_ID_FIELD';\n  const observableId = `database:listVal:${getUniqueIdForDatabaseQuery(ref)}:idField=${idField}`;\n  const observable$ = listVal<T>(ref, { keyField: idField });\n  return useObservable(observableId, observable$, options);\n}\n","import { empty, Observable, Subject, Subscriber, Subscription } from 'rxjs';\nimport { catchError, shareReplay, tap } from 'rxjs/operators';\n\nexport class SuspenseSubject<T> extends Subject<T> {\n  private _value: T | undefined;\n  private _hasValue = false;\n  private _timeoutHandler: NodeJS.Timeout;\n  private _firstEmission: Promise<void>;\n  private _error: any = undefined;\n  private _innerObservable: Observable<T>;\n  private _warmupSubscription: Subscription;\n\n  // @ts-expect-error: TODO: double check to see if this is an RXJS thing or if we should listen to TS\n  private _innerSubscriber: Subscription;\n  // @ts-expect-error: TODO: double check to see if this is an RXJS thing or if we should listen to TS\n  private _resolveFirstEmission: () => void;\n\n  constructor(innerObservable: Observable<T>, private _timeoutWindow: number, private _suspenseEnabled: boolean) {\n    super();\n    this._firstEmission = new Promise<void>((resolve) => (this._resolveFirstEmission = resolve));\n    this._innerObservable = innerObservable.pipe(\n      tap({\n        next: (v) => {\n          this._next(v);\n        },\n        error: (e) => {\n          // save the error, so that we can raise on subscription or .value\n          // resolve the promise, so suspense tries again\n          this._error = e;\n          this._resolveFirstEmission();\n        },\n      }),\n      catchError(() => empty()),\n      shareReplay(1)\n    );\n    // warm up the observable\n    this._warmupSubscription = this._innerObservable.subscribe();\n\n    // set a timeout for resetting the cache, subscriptions will cancel the timeout\n    // and reschedule again on unsubscribe\n    if (this._suspenseEnabled) {\n      // Noop if suspense is enabled\n      console.log('SuspenseSubject: Suspense is enabled');\n      this._timeoutHandler = setTimeout(() => {}, this._timeoutWindow);\n    } else {\n      this._timeoutHandler = setTimeout(this._reset.bind(this), this._timeoutWindow);\n    }\n  }\n\n  get hasValue(): boolean {\n    // hasValue returns true if there's an error too\n    // so that after we resolve the promise & useObservable is called again\n    // we won't throw again\n    return this._hasValue || !!this._error;\n  }\n\n  get value(): T {\n    // TODO figure out how to reset the cache here, if I _reset() here before throwing\n    // it doesn't seem to work.\n    // As it is now, this will burn the cache entry until the timeout fires.\n    if (this._error) {\n      throw this._error;\n    } else if (!this.hasValue) {\n      throw Error('Can only get value if SuspenseSubject has a value');\n    }\n    return this._value as T;\n  }\n\n  get firstEmission(): Promise<void> {\n    return this._firstEmission;\n  }\n\n  private _next(value: T) {\n    this._hasValue = true;\n    this._value = value;\n    this._resolveFirstEmission();\n  }\n\n  private _reset() {\n    // seems to be undefined in tests?\n    if (this._warmupSubscription) {\n      this._warmupSubscription.unsubscribe();\n    }\n    this._hasValue = false;\n    this._value = undefined;\n    this._error = undefined;\n    this._firstEmission = new Promise<void>((resolve) => (this._resolveFirstEmission = resolve));\n  }\n\n  _subscribe(subscriber: Subscriber<T>): Subscription {\n    if (this._timeoutHandler) {\n      clearTimeout(this._timeoutHandler);\n    }\n    this._innerSubscriber = this._innerObservable.subscribe(subscriber);\n    return this._innerSubscriber;\n  }\n\n  get ourError() {\n    return this._error;\n  }\n}\n","import * as React from 'react';\nimport { Observable } from 'rxjs';\nimport { SuspenseSubject } from './SuspenseSubject';\nimport { useSuspenseEnabledFromConfigAndContext } from './firebaseApp';\nimport { ReactFireGlobals, ReactFireOptions } from './';\n\nconst DEFAULT_TIMEOUT = 30_000;\n\n// Since we're side-effect free, we need to ensure our observable cache is global\nconst preloadedObservables: Map<string, SuspenseSubject<any>> = (globalThis as any as ReactFireGlobals)._reactFirePreloadedObservables || new Map();\n\nif (!(globalThis as any as ReactFireGlobals)._reactFirePreloadedObservables) {\n  (globalThis as any as ReactFireGlobals)._reactFirePreloadedObservables = preloadedObservables;\n}\n\n// Starts listening to an Observable.\n// Call this once you know you're going to render a\n// child that will consume the observable\nexport function preloadObservable<T>(source: Observable<T>, id: string, suspenseEnabled: boolean) {\n  if (preloadedObservables.has(id)) {\n    return preloadedObservables.get(id) as SuspenseSubject<T>;\n  } else {\n    const observable = new SuspenseSubject(source, DEFAULT_TIMEOUT, suspenseEnabled);\n    preloadedObservables.set(id, observable);\n    return observable;\n  }\n}\n\nexport interface ObservableStatus<T> {\n  /**\n   * The loading status.\n   *\n   * - `loading`: Waiting for the first value from an observable\n   * - `error`: Something went wrong. Check `ObservableStatus.error` for more details\n   * - `success`: The hook has emitted at least one value\n   *\n   * If `initialData` is passed in, this will skip `loading` and go straight to `success`.\n   */\n  status: 'loading' | 'error' | 'success';\n  /**\n   * Indicates whether the hook has emitted a value at some point\n   *\n   * If `initialData` is passed in, this will be `true`.\n   */\n  hasEmitted: boolean; // has received at least one value\n  /**\n   * If this is `true`, the hook will be emitting no further items.\n   */\n  isComplete: boolean;\n  /**\n   * The most recent value.\n   *\n   * If `initialData` is passed in, the first value of `data` will be the valuea provided in `initialData` **UNLESS** the underlying observable is ready, in which case it will skip `initialData`.\n   */\n  data: T;\n  /**\n   * Any error that may have occurred in the underlying observable\n   */\n  error: Error | undefined;\n  /**\n   * Promise that resolves after first emit from observable\n   */\n  firstValuePromise: Promise<void>;\n}\n\nfunction reducerFactory<T>(observable: SuspenseSubject<T>) {\n  return function reducer(state: ObservableStatus<T>, action: 'value' | 'error' | 'complete'): ObservableStatus<T> {\n    // always make sure these values are in sync with the observable\n    const newState = {\n      ...state,\n      hasEmitted: state.hasEmitted || observable.hasValue,\n      error: observable.ourError,\n      firstValuePromise: observable.firstEmission,\n    };\n    if (observable.hasValue) {\n      newState.data = observable.value;\n    }\n\n    switch (action) {\n      case 'value':\n        newState.status = 'success';\n        return newState;\n      case 'error':\n        newState.status = 'error';\n        return newState;\n      case 'complete':\n        newState.isComplete = true;\n        return newState;\n      default:\n        throw new Error(`invalid action \"${action}\"`);\n    }\n  };\n}\n\nexport function useObservable<T = unknown>(observableId: string, source: Observable<T>, config: ReactFireOptions = {}): ObservableStatus<T> {\n  // Register the observable with the cache\n  if (!observableId) {\n    throw new Error('cannot call useObservable without an observableId');\n  }\n  const suspenseEnabled = useSuspenseEnabledFromConfigAndContext(config.suspense);\n  \n  const observable = preloadObservable(source, observableId, suspenseEnabled);\n\n  // Suspend if suspense is enabled and no initial data exists\n  const hasInitialData = config.hasOwnProperty('initialData') || config.hasOwnProperty('startWithValue');\n  const hasData = observable.hasValue || hasInitialData;\n  if (suspenseEnabled === true && !hasData) {\n    throw observable.firstEmission;\n  }\n\n  const initialState: ObservableStatus<T> = {\n    status: hasData ? 'success' : 'loading',\n    hasEmitted: hasData,\n    isComplete: false,\n    data: observable.hasValue ? observable.value : config?.initialData ?? config?.startWithValue,\n    error: observable.ourError,\n    firstValuePromise: observable.firstEmission,\n  };\n  const [status, dispatch] = React.useReducer<React.Reducer<ObservableStatus<T>, 'value' | 'error' | 'complete'>>(reducerFactory<T>(observable), initialState);\n\n  React.useEffect(() => {\n    const subscription = observable.subscribe({\n      next: () => {\n        dispatch('value');\n      },\n      error: (e) => {\n        dispatch('error');\n        throw e;\n      },\n      complete: () => {\n        dispatch('complete');\n      },\n    });\n    return () => subscription.unsubscribe();\n  }, [observable]);\n\n  return status;\n}\n","import { collectionData, doc, docData, fromRef } from 'rxfire/firestore';\nimport { ReactFireOptions, useObservable, checkIdField, ReactFireGlobals } from './';\nimport { preloadObservable, ObservableStatus } from './useObservable';\nimport { first } from 'rxjs/operators';\n\nimport { Query as FirestoreQuery, QuerySnapshot, DocumentReference, queryEqual, DocumentData, DocumentSnapshot } from 'firebase/firestore';\n\n// Since we're side-effect free, we need to ensure our observableId cache is global\nconst cachedQueries: Array<FirestoreQuery> = (globalThis as any as ReactFireGlobals)._reactFireFirestoreQueryCache || [];\n\nif (!(globalThis as any as ReactFireGlobals)._reactFireFirestoreQueryCache) {\n  (globalThis as any as ReactFireGlobals)._reactFireFirestoreQueryCache = cachedQueries;\n}\n\nfunction getUniqueIdForFirestoreQuery(query: FirestoreQuery) {\n  const index = cachedQueries.findIndex((cachedQuery) => queryEqual(cachedQuery, query));\n  if (index > -1) {\n    return index;\n  }\n  return cachedQueries.push(query) - 1;\n}\n\n/**\n * Preload a subscription to a Firestore document reference.\n *\n * Use this to warm up `useFirestoreDoc` for a specific document\n */\nexport async function preloadFirestoreDoc(refProvider: () => Promise<DocumentReference>) {\n  const ref = await refProvider();\n  return preloadObservable(doc(ref), getDocObservableId(ref));\n}\n\nfunction getDocObservableId(ref: DocumentReference) {\n  return `firestore:doc:${ref.firestore.app.name}:${ref.path}`;\n}\n\n/**\n * Suscribe to Firestore Document changes\n *\n * You can preload data for this hook by calling `preloadFirestoreDoc`\n */\nexport function useFirestoreDoc<T = DocumentData>(ref: DocumentReference<T>, options?: ReactFireOptions<T>): ObservableStatus<DocumentSnapshot<T>> {\n  const observableId = getDocObservableId(ref);\n  const observable$ = doc(ref);\n\n  return useObservable(observableId, observable$, options);\n}\n\n/**\n * Get a firestore document and don't subscribe to changes\n */\nexport function useFirestoreDocOnce<T = DocumentData>(ref: DocumentReference<T>, options?: ReactFireOptions<T>): ObservableStatus<DocumentSnapshot<T>> {\n  const observableId = `firestore:docOnce:${ref.firestore.app.name}:${ref.path}`;\n  const observable$ = doc(ref).pipe(first());\n\n  return useObservable(observableId, observable$, options);\n}\n\n/**\n * Suscribe to Firestore Document changes and unwrap the document into a plain object\n */\nexport function useFirestoreDocData<T = unknown>(ref: DocumentReference<T>, options?: ReactFireOptions<T>): ObservableStatus<T> {\n  const idField = options ? checkIdField(options) : 'NO_ID_FIELD';\n\n  const observableId = `firestore:docData:${ref.firestore.app.name}:${ref.path}:idField=${idField}`;\n  const observable = docData(ref, { idField });\n\n  return useObservable(observableId, observable, options);\n}\n\n/**\n * Get a Firestore document, unwrap the document into a plain object, and don't subscribe to changes\n */\nexport function useFirestoreDocDataOnce<T = unknown>(ref: DocumentReference<T>, options?: ReactFireOptions<T>): ObservableStatus<T> {\n  const idField = options ? checkIdField(options) : 'NO_ID_FIELD';\n\n  const observableId = `firestore:docDataOnce:${ref.firestore.app.name}:${ref.path}:idField=${idField}`;\n  const observable$ = docData(ref, { idField }).pipe(first());\n\n  return useObservable(observableId, observable$, options);\n}\n\n/**\n * Subscribe to a Firestore collection\n */\nexport function useFirestoreCollection<T = DocumentData>(query: FirestoreQuery<T>, options?: ReactFireOptions<T[]>): ObservableStatus<QuerySnapshot<T>> {\n  const observableId = `firestore:collection:${getUniqueIdForFirestoreQuery(query)}`;\n  const observable$ = fromRef(query);\n\n  return useObservable(observableId, observable$, options);\n}\n\n/**\n * Subscribe to a Firestore collection and unwrap the snapshot into an array.\n */\nexport function useFirestoreCollectionData<T = DocumentData>(query: FirestoreQuery<T>, options?: ReactFireOptions<T[]>): ObservableStatus<T[]> {\n  const idField = options ? checkIdField(options) : 'NO_ID_FIELD';\n  const observableId = `firestore:collectionData:${getUniqueIdForFirestoreQuery(query)}:idField=${idField}`;\n  const observable$ = collectionData(query, { idField });\n\n  return useObservable(observableId, observable$, options);\n}\n","import { httpsCallable as rxHttpsCallable } from 'rxfire/functions';\nimport { ReactFireOptions, useObservable, ObservableStatus } from './';\nimport { useFunctions } from '.';\n\nimport type { HttpsCallableOptions } from 'firebase/functions';\n\n/**\n * Calls a callable function.\n *\n * @param functionName - The name of the function to call\n * @param options\n */\nexport function useCallableFunctionResponse<RequestData, ResponseData>(\n  functionName: string,\n  options?: ReactFireOptions<ResponseData> & {\n    httpsCallableOptions?: HttpsCallableOptions;\n    data?: RequestData;\n  }\n): ObservableStatus<ResponseData> {\n  const functions = useFunctions();\n  const observableId = `functions:callableResponse:${functionName}:${JSON.stringify(options?.data)}:${JSON.stringify(options?.httpsCallableOptions)}`;\n  const obsFactory = rxHttpsCallable<RequestData, ResponseData>(functions, functionName, options?.httpsCallableOptions);\n  const observable$ = obsFactory(options?.data);\n\n  return useObservable(observableId, observable$, options);\n}\n","import * as React from 'react';\n\nexport interface SuspensePerfProps {\n  children: React.ReactNode;\n  traceId: string;\n  fallback: React.ReactNode;\n}\n\nexport function SuspenseWithPerf({ children, traceId, fallback }: SuspensePerfProps): JSX.Element {\n  // TODO: Should this import firebase/performance?\n\n  const entries = performance?.getEntriesByName?.(traceId, 'measure') || [];\n  const startMarkName = `_${traceId}Start[${entries.length}]`;\n  const endMarkName = `_${traceId}End[${entries.length}]`;\n\n  const Fallback = () => {\n    React.useLayoutEffect(() => {\n      performance?.mark?.(startMarkName);\n\n      return () => {\n        performance?.mark?.(endMarkName);\n        performance?.measure?.(traceId, startMarkName, endMarkName);\n      };\n    }, []);\n\n    return <>{fallback}</>;\n  };\n\n  return <React.Suspense fallback={<Fallback />}>{children}</React.Suspense>;\n}\n","import { useRemoteConfig } from './';\nimport { useObservable, ObservableStatus } from './useObservable';\nimport { getValue, getString, getBoolean, getNumber, getAll, AllParameters } from 'rxfire/remote-config';\nimport { Observable } from 'rxjs';\n\nimport type { RemoteConfig, Value as RemoteConfigValue } from 'firebase/remote-config';\n\ntype Getter$<T> = (remoteConfig: RemoteConfig, key: string) => Observable<T>;\n\n/**\n * Helper function to construct type safe functions. Since Remote Config has\n * methods that return different types for values, we need to be extra safe\n * to make sure we are not returning improper types by accident.\n * @param key\n * @param getter\n * @param remoteConfig\n */\nfunction useRemoteConfigValue_INTERNAL<T>(key: string, getter: Getter$<T>): ObservableStatus<T> {\n  const remoteConfig = useRemoteConfig();\n\n  const appName = remoteConfig.app.name;\n  const $value = getter(remoteConfig, key);\n\n  const observableId = `remoteConfig:${key}:${getter.name}:${appName}`;\n  return useObservable<T>(observableId, $value);\n}\n\n/**\n * Accepts a key and optionally a Remote Config instance. Returns a\n * Remote Config Value.\n *\n * @param key The parameter key in Remote Config\n */\nexport function useRemoteConfigValue(key: string): ObservableStatus<RemoteConfigValue> {\n  return useRemoteConfigValue_INTERNAL<RemoteConfigValue>(key, getValue);\n}\n\n/**\n * Convience method similar to useRemoteConfigValue. Returns a `string` from a Remote Config parameter.\n * @param key The parameter key in Remote Config\n */\nexport function useRemoteConfigString(key: string): ObservableStatus<string> {\n  return useRemoteConfigValue_INTERNAL<string>(key, getString);\n}\n\n/**\n * Convience method similar to useRemoteConfigValue. Returns a `number` from a Remote Config parameter.\n * @param key The parameter key in Remote Config\n */\nexport function useRemoteConfigNumber(key: string): ObservableStatus<number> {\n  return useRemoteConfigValue_INTERNAL<number>(key, getNumber);\n}\n\n/**\n * Convience method similar to useRemoteConfigValue. Returns a `boolean` from a Remote Config parameter.\n * @param key The parameter key in Remote Config\n */\nexport function useRemoteConfigBoolean(key: string): ObservableStatus<boolean> {\n  return useRemoteConfigValue_INTERNAL<boolean>(key, getBoolean);\n}\n\n/**\n * Convience method similar to useRemoteConfigValue. Returns allRemote Config parameters.\n * @param key The parameter key in Remote Config\n */\nexport function useRemoteConfigAll(key: string): ObservableStatus<AllParameters> {\n  return useRemoteConfigValue_INTERNAL<AllParameters>(key, getAll);\n}\n","import * as React from 'react';\nimport { getDownloadURL, fromTask } from 'rxfire/storage';\nimport { ReactFireOptions, useObservable, ObservableStatus, useStorage } from './';\nimport { useSuspenseEnabledFromConfigAndContext } from './firebaseApp';\nimport { ref } from 'firebase/storage';\n\nimport type { UploadTask, UploadTaskSnapshot, StorageReference, FirebaseStorage } from 'firebase/storage';\n\n/**\n * Subscribe to the progress of a storage task\n *\n * @param task - the task you want to listen to\n * @param ref - reference to the blob the task is acting on\n * @param options\n */\nexport function useStorageTask<T = unknown>(task: UploadTask, ref: StorageReference, options?: ReactFireOptions<T>): ObservableStatus<UploadTaskSnapshot | T> {\n  const observableId = `storage:task:${ref.toString()}`;\n  const observable$ = fromTask(task);\n\n  return useObservable(observableId, observable$, options);\n}\n\n/**\n * Subscribe to a storage ref's download URL\n *\n * @param ref - reference to the blob you want to download\n * @param options\n */\nexport function useStorageDownloadURL<T = string>(ref: StorageReference, options?: ReactFireOptions<T>): ObservableStatus<string | T> {\n  const observableId = `storage:downloadUrl:${ref.toString()}`;\n  const observable$ = getDownloadURL(ref);\n\n  return useObservable(observableId, observable$, options);\n}\n\ntype StorageImageProps = {\n  storagePath: string;\n  storage?: FirebaseStorage;\n  suspense?: boolean;\n  placeHolder?: JSX.Element;\n};\n\nfunction StorageFromContext(props: StorageImageProps & React.DetailedHTMLProps<React.ImgHTMLAttributes<HTMLImageElement>, HTMLImageElement>) {\n  const storage = useStorage();\n\n  props = { ...props, storage };\n\n  return <INTERNALStorageImage {...props} />;\n}\n\nfunction INTERNALStorageImage(props: StorageImageProps & React.DetailedHTMLProps<React.ImgHTMLAttributes<HTMLImageElement>, HTMLImageElement>): JSX.Element {\n  let { storage, storagePath, suspense, placeHolder, ...imgProps } = props;\n\n  const reactfireOptions: ReactFireOptions<string> = {\n    suspense: useSuspenseEnabledFromConfigAndContext(suspense),\n  };\n\n  if (!storage) {\n    throw new Error('Storage was not passed to component INTERNALStorageImage. This should not be possible');\n  }\n\n  const { status, data: imgSrc } = useStorageDownloadURL(ref(storage, storagePath), reactfireOptions);\n\n  if (status === 'success') {\n    if (!(imgProps.alt || imgProps.alt === '')) {\n      console.warn(\n        `No alt prop provided for StorageImage with storagePath \"${storagePath}\"`,\n        'img elements must have an alt prop, either with meaningful text, or an empty string for decorative images'\n      );\n    }\n\n    return <img src={imgSrc} alt={imgProps.alt} {...imgProps} />;\n  } else {\n    return placeHolder ?? <>''</>;\n  }\n}\n\nexport function StorageImage(props: StorageImageProps & React.DetailedHTMLProps<React.ImgHTMLAttributes<HTMLImageElement>, HTMLImageElement>) {\n  let { storage } = props;\n\n  if (storage) {\n    return <INTERNALStorageImage {...props} />;\n  } else {\n    return <StorageFromContext {...props} />;\n  }\n}\n","import * as React from 'react';\n\nimport type { AppCheck } from 'firebase/app-check';\nimport type { Auth } from 'firebase/auth';\nimport type { Analytics } from 'firebase/analytics';\nimport type { Database } from 'firebase/database';\nimport type { Firestore } from 'firebase/firestore';\nimport type { Functions } from 'firebase/functions';\nimport type { FirebasePerformance } from 'firebase/performance';\nimport type { FirebaseStorage } from 'firebase/storage';\nimport type { RemoteConfig } from 'firebase/remote-config';\nimport { useFirebaseApp } from './firebaseApp';\nimport { FirebaseApp } from 'firebase/app';\nimport { ObservableStatus, useObservable } from './useObservable';\nimport { from } from 'rxjs';\nimport { ReactFireOptions } from '.';\n\nexport const AppCheckSdkContext = React.createContext<AppCheck | undefined>(undefined);\nexport const AuthSdkContext = React.createContext<Auth | undefined>(undefined);\nexport const AnalyticsSdkContext = React.createContext<Analytics | undefined>(undefined);\nexport const DatabaseSdkContext = React.createContext<Database | undefined>(undefined);\nexport const FirestoreSdkContext = React.createContext<Firestore | undefined>(undefined);\nexport const FunctionsSdkContext = React.createContext<Functions | undefined>(undefined);\nexport const StorageSdkContext = React.createContext<FirebaseStorage | undefined>(undefined);\nexport const PerformanceSdkContext = React.createContext<FirebasePerformance | undefined>(undefined);\nexport const RemoteConfigSdkContext = React.createContext<RemoteConfig | undefined>(undefined);\n\ntype FirebaseSdks = Analytics | AppCheck | Auth | Database | Firestore | FirebasePerformance | FirebaseStorage | Functions | RemoteConfig;\n\nfunction getSdkProvider<Sdk extends FirebaseSdks>(SdkContext: React.Context<Sdk | undefined>) {\n  return function SdkProvider(props: React.PropsWithChildren<{ sdk: Sdk }>) {\n    if (!props.sdk) throw new Error('no sdk provided');\n\n    const contextualAppName = useFirebaseApp().name;\n    const sdkAppName = props?.sdk?.app?.name;\n    if (sdkAppName !== contextualAppName) throw new Error('sdk was initialized with a different firebase app');\n\n    return <SdkContext.Provider value={props.sdk} {...props} />;\n  };\n}\n\nfunction useSdk<Sdk extends FirebaseSdks>(SdkContext: React.Context<Sdk | undefined>): Sdk {\n  const sdk = React.useContext(SdkContext);\n\n  if (!sdk) {\n    throw new Error('SDK not found. useSdk must be called from within a provider');\n  }\n\n  return sdk;\n}\n\nfunction useInitSdk<Sdk extends FirebaseSdks>(\n  sdkName: string,\n  SdkContext: React.Context<Sdk | undefined>,\n  sdkInitializer: (firebaseApp: FirebaseApp) => Promise<Sdk>,\n  options?: ReactFireOptions\n) {\n  const firebaseApp = useFirebaseApp();\n\n  // Some initialization functions (like Firestore's `enableIndexedDbPersistence`)\n  // can only be called before anything else. So if an sdk is already available in context,\n  // it isn't safe to call initialization functions again.\n  if (React.useContext(SdkContext)) {\n    throw new Error(`Cannot initialize SDK ${sdkName} because it already exists in Context`);\n  }\n\n  const initializeSdk = React.useMemo(() => sdkInitializer(firebaseApp), [firebaseApp]);\n\n  return useObservable<Sdk>(`firebase-sdk:${sdkName}:${firebaseApp.name}`, from(initializeSdk), options);\n}\n\nexport const AppCheckProvider = getSdkProvider<AppCheck>(AppCheckSdkContext);\nexport const AuthProvider = getSdkProvider<Auth>(AuthSdkContext);\nexport const AnalyticsProvider = getSdkProvider<Analytics>(AnalyticsSdkContext);\nexport const DatabaseProvider = getSdkProvider<Database>(DatabaseSdkContext);\nexport const FirestoreProvider = getSdkProvider<Firestore>(FirestoreSdkContext);\nexport const FunctionsProvider = getSdkProvider<Functions>(FunctionsSdkContext);\nexport const PerformanceProvider = getSdkProvider<FirebasePerformance>(PerformanceSdkContext);\nexport const StorageProvider = getSdkProvider<FirebaseStorage>(StorageSdkContext);\nexport const RemoteConfigProvider = getSdkProvider<RemoteConfig>(RemoteConfigSdkContext);\n\nexport const useAppCheck = () => useSdk<AppCheck>(AppCheckSdkContext);\nexport const useAuth = () => useSdk<Auth>(AuthSdkContext);\nexport const useAnalytics = () => useSdk<Analytics>(AnalyticsSdkContext);\nexport const useDatabase = () => useSdk<Database>(DatabaseSdkContext);\nexport const useFirestore = () => useSdk<Firestore>(FirestoreSdkContext);\nexport const useFunctions = () => useSdk<Functions>(FunctionsSdkContext);\nexport const usePerformance = () => useSdk<FirebasePerformance>(PerformanceSdkContext);\nexport const useStorage = () => useSdk<FirebaseStorage>(StorageSdkContext);\nexport const useRemoteConfig = () => useSdk<RemoteConfig>(RemoteConfigSdkContext);\n\ntype InitSdkHook<Sdk extends FirebaseSdks> = (\n  initializer: (firebaseApp: FirebaseApp) => Promise<Sdk>,\n  options?: ReactFireOptions<Sdk>\n) => ObservableStatus<Sdk>;\n\nexport const useInitAppCheck: InitSdkHook<AppCheck> = (initializer, options) => useInitSdk<AppCheck>('appcheck', AppCheckSdkContext, initializer, options);\nexport const useInitAuth: InitSdkHook<Auth> = (initializer, options) => useInitSdk<Auth>('auth', AuthSdkContext, initializer, options);\nexport const useInitAnalytics: InitSdkHook<Analytics> = (initializer, options) => useInitSdk<Analytics>('analytics', AnalyticsSdkContext, initializer, options);\nexport const useInitDatabase: InitSdkHook<Database> = (initializer, options) => useInitSdk<Database>('database', DatabaseSdkContext, initializer, options);\nexport const useInitFirestore: InitSdkHook<Firestore> = (initializer, options) => useInitSdk<Firestore>('firestore', FirestoreSdkContext, initializer, options);\nexport const useInitFunctions: InitSdkHook<Functions> = (initializer, options) => useInitSdk<Functions>('functions', FunctionsSdkContext, initializer, options);\nexport const useInitPerformance: InitSdkHook<FirebasePerformance> = (initializer, options) =>\n  useInitSdk<FirebasePerformance>('performance', PerformanceSdkContext, initializer, options);\nexport const useInitRemoteConfig: InitSdkHook<RemoteConfig> = (initializer, options) =>\n  useInitSdk<RemoteConfig>('remoteconfig', RemoteConfigSdkContext, initializer, options);\nexport const useInitStorage: InitSdkHook<FirebaseStorage> = (initializer, options) =>\n  useInitSdk<FirebaseStorage>('storage', StorageSdkContext, initializer, options);\n","import { SuspenseSubject } from './SuspenseSubject';\n\nimport type { Query as FirestoreQuery } from 'firebase/firestore';\nimport type { Query as DatabaseQuery } from 'firebase/database';\n\nexport type ReactFireGlobals = {\n  _reactFireDatabaseCachedQueries: Array<DatabaseQuery>;\n  _reactFireFirestoreQueryCache: Array<FirestoreQuery>;\n  _reactFirePreloadedObservables: Map<string, SuspenseSubject<any>>;\n};\n\nexport class ReactFireError extends Error {\n  readonly name = 'ReactFireError';\n\n  constructor(readonly code: string, message: string, public customData?: Record<string, unknown>) {\n    super(message);\n\n    // Fix For ES5\n    // https://github.com/Microsoft/TypeScript-wiki/blob/master/Breaking-Changes.md#extending-built-ins-like-error-array-and-map-may-no-longer-work\n    Object.setPrototypeOf(this, ReactFireError.prototype);\n  }\n}\n\nexport interface ReactFireOptions<T = unknown> {\n  idField?: string;\n  initialData?: T | any;\n  /**\n   * @deprecated use initialData instead\n   */\n  startWithValue?: T | any;\n  suspense?: boolean;\n}\n\nexport function checkOptions(options: ReactFireOptions, field: string) {\n  // make sure the field passed in is a valid key of ReactFire Options\n  if (field === 'idField' || field === 'initialData' || field === 'suspense') {\n    return options ? (options[field] as ReactFireOptions['idField'] | ReactFireOptions['initialData'] | ReactFireOptions['suspense']) : undefined;\n  }\n\n  throw new Error(`Field \"${field}\" is not a valid key in ReactFireOptions`);\n}\n\nexport function checkinitialData(options: ReactFireOptions) {\n  return checkOptions(options, 'initialData');\n}\n\nexport function checkIdField(options: ReactFireOptions) {\n  return checkOptions(options, 'idField');\n}\n\nexport * from './auth';\nexport * from './database';\nexport * from './firebaseApp';\nexport * from './firestore';\nexport * from './functions';\nexport * from './performance';\nexport * from './remote-config';\nexport * from './storage';\nexport * from './useObservable';\nexport * from './sdk';\n"],"names":["undefined","DEFAULT_APP_NAME","FirebaseAppContext","React","SuspenseEnabledContext","version","shallowEq","a","b","Object","keys","every","key","FirebaseAppProvider","props","firebaseConfig","appName","suspense","firebaseApp","existingApp","getApps","find","app","name","options","Error","reactVersion","registerVersion","initializeApp","Provider","value","useIsSuspenseEnabled","useSuspenseEnabledFromConfigAndContext","suspenseFromConfig","suspenseFromContext","useFirebaseApp","preloadUser","authResolver","auth","user$","preloadObservable","user","toPromise","useUser","useAuth","observableId","observable$","_options","currentUser","initialData","startWithValue","useObservable","useIdTokenResult","forceRefresh","uid","from","getIdTokenResult","useSigninCheck","hasOwnProperty","JSON","stringify","requiredClaims","validateCustomClaims","observable","pipe","switchMap","result","signedIn","hasRequiredClaims","errors","of","map","idTokenResult","validator","getClaimsObjectValidator","claims","claimsObjectValidator","userClaims","forEach","claim","ReactFireError","length","ClaimsCheck","fallback","children","data","missingClaims","suspenseMode","console","warn","expected","actual","toString","AuthCheck","cachedQueries","globalThis","_reactFireDatabaseCachedQueries","getUniqueIdForDatabaseQuery","query","index","findIndex","cachedQuery","isEqual","push","useDatabaseObject","ref","object","useDatabaseObjectData","idField","checkIdField","objectVal","keyField","useDatabaseList","hash","list","useDatabaseListData","listVal","SuspenseSubject","innerObservable","_timeoutWindow","_suspenseEnabled","_value","_hasValue","_timeoutHandler","_firstEmission","_error","_innerObservable","_warmupSubscription","_innerSubscriber","_resolveFirstEmission","Promise","resolve","tap","next","v","_next","error","e","catchError","empty","shareReplay","subscribe","log","setTimeout","_reset","bind","unsubscribe","_subscribe","subscriber","clearTimeout","hasValue","Subject","DEFAULT_TIMEOUT","preloadedObservables","_reactFirePreloadedObservables","Map","source","id","suspenseEnabled","has","get","set","reducerFactory","reducer","state","action","newState","hasEmitted","ourError","firstValuePromise","firstEmission","status","isComplete","config","hasInitialData","hasData","initialState","dispatch","subscription","complete","_reactFireFirestoreQueryCache","getUniqueIdForFirestoreQuery","queryEqual","preloadFirestoreDoc","refProvider","doc","getDocObservableId","firestore","path","useFirestoreDoc","useFirestoreDocOnce","first","useFirestoreDocData","docData","useFirestoreDocDataOnce","useFirestoreCollection","fromRef","useFirestoreCollectionData","collectionData","useCallableFunctionResponse","functionName","functions","useFunctions","httpsCallableOptions","obsFactory","rxHttpsCallable","SuspenseWithPerf","traceId","entries","performance","getEntriesByName","startMarkName","endMarkName","Fallback","mark","measure","useRemoteConfigValue_INTERNAL","getter","remoteConfig","useRemoteConfig","$value","useRemoteConfigValue","getValue","useRemoteConfigString","getString","useRemoteConfigNumber","getNumber","useRemoteConfigBoolean","getBoolean","useRemoteConfigAll","getAll","useStorageTask","task","fromTask","useStorageDownloadURL","getDownloadURL","StorageFromContext","storage","useStorage","INTERNALStorageImage","storagePath","placeHolder","imgProps","reactfireOptions","imgSrc","alt","src","StorageImage","AppCheckSdkContext","AuthSdkContext","AnalyticsSdkContext","DatabaseSdkContext","FirestoreSdkContext","FunctionsSdkContext","StorageSdkContext","PerformanceSdkContext","RemoteConfigSdkContext","getSdkProvider","SdkContext","SdkProvider","sdk","contextualAppName","sdkAppName","useSdk","useInitSdk","sdkName","sdkInitializer","initializeSdk","AppCheckProvider","AuthProvider","AnalyticsProvider","DatabaseProvider","FirestoreProvider","FunctionsProvider","PerformanceProvider","StorageProvider","RemoteConfigProvider","useAppCheck","useAnalytics","useDatabase","useFirestore","usePerformance","useInitAppCheck","initializer","useInitAuth","useInitAnalytics","useInitDatabase","useInitFirestore","useInitFunctions","useInitPerformance","useInitRemoteConfig","useInitStorage","code","message","customData","setPrototypeOf","prototype","checkOptions","field","checkinitialData"],"mappings":"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"}